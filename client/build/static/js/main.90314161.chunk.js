(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(31),s=n.n(c),i=n(9),o=n.n(i),l=n(15),j=n(8),u=n(113),d=n(112),b=n(109),p=n(107),h=n(56),O=(n(68),h.a.initializeApp({apiKey:"AIzaSyDBdDh1T3XvlebEIfRG-6mgC7hJIgB0OKM",authDomain:"cannabis-directory-81f3c.firebaseapp.com",databaseURL:"https://cannabis-directory-81f3c.firebaseio.com",projectId:"cannabis-directory-81f3c",storageBucket:"cannabis-directory-81f3c.appspot.com",messagingSenderId:"499452117670",appId:"1:499452117670:web:61776c4f6dae6a00016a67"})),x=O.auth(),f=n(1),m=r.a.createContext();function v(){return Object(a.useContext)(m)}function y(e){var t=e.children,n=Object(a.useState)(),r=Object(j.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(!0),o=Object(j.a)(i,2),l=o[0],u=o[1];Object(a.useEffect)((function(){return x.onAuthStateChanged((function(e){s(e),u(!1)}))}),[]);var d={currentUser:c,login:function(e,t){return x.signInWithEmailAndPassword(e,t)},signup:function(e,t){return x.createUserWithEmailAndPassword(e,t)},logout:function(){x.signOut()},resetPassword:function(e){return x.sendPasswordResetEmail(e)},updateEmail:function(e){return c.updateEmail(e)},updatePassword:function(e){return c.updatePassword(e)}};return Object(f.jsx)(m.Provider,{value:d,children:!l&&t})}var g=n(10),w=n(13),k=n(110),S=n(111);var N=function(){var e=v(),t=e.currentUser,n=e.logout,r=Object(a.useState)(""),c=Object(j.a)(r,2),s=c[0],i=c[1],u=Object(g.g)();function b(){return(b=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(""),e.prev=1,e.next=4,n();case 4:u.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),i("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(f.jsxs)(k.a,{expand:"lg",fixed:"top",variant:"dark",className:"d-flex justify-content-between",children:[Object(f.jsx)(k.a.Brand,{style:{color:"yellow",fontFamily:"Permanent Marker",fontSize:"40px"},href:"#home",children:"Celp"}),Object(f.jsx)(k.a.Toggle,{"aria-controls":"basic-navbar-nav "}),Object(f.jsx)(k.a.Collapse,{id:"basic-navbar-nav",className:"d-flex justify-content-end",style:{maxWidth:"fit-content"},color:"yellow",children:Object(f.jsxs)(S.a,{children:[s&&Object(f.jsxs)(d.a,{variant:"danger",children:[" ",s," "]}),Object(f.jsx)(S.a.Link,{style:{color:"yellow",fontFamily:"Permanent Marker",fontSize:"20px"},href:"/",children:"Home"}),t&&Object(f.jsx)(S.a.Link,{style:{color:"yellow",fontFamily:"Permanent Marker",fontSize:"20px"},href:"/favorites",children:"Favorites"}),t&&Object(f.jsx)(S.a.Link,{style:{color:"yellow",fontFamily:"Permanent Marker",fontSize:"20px"},href:"/profile",children:"Profile"}),!t&&Object(f.jsx)(S.a.Link,{style:{color:"yellow",fontFamily:"Permanent Marker",fontSize:"20px"},href:"/signup",children:"Create an Account"}),t?Object(f.jsx)(p.a,{style:{color:"yellow",fontFamily:"Permanent Marker",fontSize:"20px"},variant:"link",onClick:function(){return b.apply(this,arguments)},children:"Log Out"}):Object(f.jsx)(S.a.Link,{style:{color:"yellow",fontFamily:"Permanent Marker",fontSize:"20px"},href:"/login",children:"Log In"})]})})]})};n(79);function P(){var e=Object(a.useRef)(),t=Object(a.useRef)(),n=Object(a.useRef)(),r=v().signup,c=Object(a.useState)(""),s=Object(j.a)(c,2),i=s[0],h=s[1],O=Object(a.useState)(!1),x=Object(j.a)(O,2),m=x[0],y=x[1],k=Object(g.g)();function S(){return(S=Object(l.a)(o.a.mark((function a(c){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),t.current.value===n.current.value){a.next=3;break}return a.abrupt("return",h("Passwords do not match"));case 3:return a.prev=3,h(""),y(!0),a.next=8,r(e.current.value,t.current.value);case 8:k.push("/"),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(3),h("Failed to create an account");case 14:y(!1);case 15:case"end":return a.stop()}}),a,null,[[3,11]])})))).apply(this,arguments)}return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(N,{}),Object(f.jsx)(u.a,{className:"sign-in",children:Object(f.jsxs)(u.a.Body,{children:[Object(f.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),i&&Object(f.jsxs)(d.a,{variant:"danger",children:[" ",i," "]}),Object(f.jsxs)(b.a,{onSubmit:function(e){return S.apply(this,arguments)},children:[Object(f.jsxs)(b.a.Group,{id:"email",children:[Object(f.jsx)(b.a.Label,{children:"Email"}),Object(f.jsx)(b.a.Control,{type:"email",ref:e,required:!0})]}),Object(f.jsxs)(b.a.Group,{id:"password",children:[Object(f.jsx)(b.a.Label,{children:"Password"}),Object(f.jsx)(b.a.Control,{type:"password",ref:t,required:!0})]}),Object(f.jsxs)(b.a.Group,{id:"password-confirm",children:[Object(f.jsx)(b.a.Label,{children:"Password Confirmation"}),Object(f.jsx)(b.a.Control,{type:"password",ref:n,required:!0})]}),Object(f.jsx)(p.a,{style:{background:"yellow",color:"blue"},disabled:m,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),Object(f.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(f.jsx)(w.b,{to:"/login",children:"Log In"})]})]})}var C=n(32),F=n(108),L=n(60),R=n(114);n(80);var E=function(e){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"store",children:e.children})})};n(81);var I=function(e){return Object(f.jsx)(b.a,{onSubmit:e.onFormSubmit,children:Object(f.jsx)(b.a.Row,{className:"searchBar mx-auto align-middle",children:Object(f.jsx)(L.a,{xs:7,children:Object(f.jsx)(b.a.Control,{name:"city",style:{width:"175%",display:"flex",alignItems:"center"},placeholder:"Search By Location",onChange:e.handleChange})})})})},U=n(62);var B=function(e){var t=e.name,n=e.location,a=e.display_phone,r=e.is_closed,c=e.rating,s=e.favorite,i=v().currentUser;return Object(f.jsx)(u.a,{children:Object(f.jsxs)(u.a.Body,{children:[Object(f.jsxs)(u.a.Title,{style:{fontFamily:"Permanent Marker"},children:[t,i&&Object(f.jsx)(U.a,{onClick:function(){return s({uuid:i.uid,dispensary:{name:t,location:n,display_phone:a,is_closed:r,rating:c}})}})]}),Object(f.jsxs)(u.a.Text,{children:[n.display_address.join(", ")," ",a,r,c]})]})})},M=n(82),z=function(e){var t=e.location,n=e.limit;return M.get("/api/dispensary/",{params:{location:t,limit:n}})},D=function(e){var t=e.uuid,n=e.dispensary;return M.post("/api/dispensary/favorite",{uuid:t,dispensary:n})};var G=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(j.a)(c,2),i=s[0],u=s[1];function d(){return(d=Object(l.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,z({location:i,limit:10});case 3:n=e.sent,a=n.data,r(a.businesses),u("");case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return p.apply(this,arguments)}function p(){return(p=Object(l.a)(o.a.mark((function e(t){var n,a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uuid,a=t.dispensary,e.prev=1,e.next=4,D({uuid:n,dispensary:a});case 4:r=e.sent,r.data,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(f.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(f.jsx)(N,{}),Object(f.jsxs)(E,{className:"hero-container",children:[Object(f.jsx)("h1",{className:"m-5",children:"Celp"}),Object(f.jsx)("h2",{className:"m-2 p-3",children:"It's the Yelp for Cannabis!"}),Object(f.jsx)(I,{handleChange:function(e){return u(e.target.value)},onFormSubmit:function(e){return d.apply(this,arguments)}}),Object(f.jsx)("div",{children:Object(f.jsxs)("footer",{className:"footer",style:{fontFamily:"Permanent Marker",color:"yellow",fontSize:"26px"},children:["Scroll Down For Results"," "]})})]}),Object(f.jsx)(F.a,{children:Object(f.jsxs)(L.a,{style:{fontFamily:"Permanent Marker"},className:"mt-5",size:"md-6",children:[Object(f.jsx)("p",{children:"Click on the heart to add the location to your favorites list!"}),Object(f.jsx)(R.a,{className:"mt-5",children:n.map((function(e){return Object(f.jsx)(B,Object(C.a)({favorite:b},e))}))})]})})]})};n(101);function _(){var e=Object(a.useRef)(),t=Object(a.useRef)(),n=v().login,r=Object(a.useState)(""),c=Object(j.a)(r,2),s=c[0],i=c[1],h=Object(a.useState)(!1),O=Object(j.a)(h,2),x=O[0],m=O[1],y=Object(g.g)();function k(){return(k=Object(l.a)(o.a.mark((function a(r){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),a.prev=1,i(""),m(!0),a.next=6,n(e.current.value,t.current.value);case 6:y.push("/"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),i("Failed to log in");case 12:m(!1);case 13:case"end":return a.stop()}}),a,null,[[1,9]])})))).apply(this,arguments)}return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(N,{}),Object(f.jsx)(u.a,{className:"page-load",children:Object(f.jsxs)(u.a.Body,{children:[Object(f.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),s&&Object(f.jsxs)(d.a,{variant:"danger",children:[" ",s," "]}),Object(f.jsxs)(b.a,{onSubmit:function(e){return k.apply(this,arguments)},children:[Object(f.jsxs)(b.a.Group,{id:"email",children:[Object(f.jsx)(b.a.Label,{children:"Email"}),Object(f.jsx)(b.a.Control,{type:"email",ref:e,required:!0})]}),Object(f.jsxs)(b.a.Group,{id:"password",children:[Object(f.jsx)(b.a.Label,{children:"Password"}),Object(f.jsx)(b.a.Control,{type:"password",ref:t,required:!0})]}),Object(f.jsx)(p.a,{style:{background:"yellow",color:"blue"},disabled:x,className:"w-100",type:"submit",children:"Log In"})]}),Object(f.jsx)("div",{className:"w-100 text-center mt-2",children:Object(f.jsx)(w.b,{style:{color:"yellow"},to:"/forgot-password",children:"Forgot Password?"})})]})}),Object(f.jsxs)("div",{className:"w-100 text-center mt-2",style:{fontFamily:"Permanent Marker"},children:["Need an account? ",Object(f.jsx)(w.b,{to:"/signup",children:"Sign Up"})]})]})}var q=n(61);var A=function(e){var t=e.component,n=Object(q.a)(e,["component"]),a=v().currentUser;return Object(f.jsx)(g.b,Object(C.a)(Object(C.a)({},n),{},{render:function(e){return a?Object(f.jsx)(t,Object(C.a)({},e)):Object(f.jsx)(g.a,{to:"/login"})}}))};function T(){var e=Object(a.useRef)(),t=v().resetPassword,n=Object(a.useState)(""),r=Object(j.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(""),h=Object(j.a)(i,2),O=h[0],x=h[1],m=Object(a.useState)(!1),y=Object(j.a)(m,2),g=y[0],k=y[1];function S(){return(S=Object(l.a)(o.a.mark((function n(a){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.prev=1,x(""),s(""),k(!0),n.next=7,t(e.current.value);case 7:x("Check your inbox for further instructions"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),s("Failed to reset password");case 13:k(!1);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))).apply(this,arguments)}return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(u.a,{children:Object(f.jsxs)(u.a.Body,{children:[Object(f.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),c&&Object(f.jsxs)(d.a,{variant:"danger",children:[" ",c," "]}),O&&Object(f.jsxs)(d.a,{variant:"success",children:[" ",O," "]}),Object(f.jsxs)(b.a,{onSubmit:function(e){return S.apply(this,arguments)},children:[Object(f.jsxs)(b.a.Group,{id:"email",children:[Object(f.jsx)(b.a.Label,{children:"Email"}),Object(f.jsx)(b.a.Control,{type:"email",ref:e,required:!0})]}),Object(f.jsx)(p.a,{disabled:g,className:"w-100",type:"submit",children:"Reset Password"})]}),Object(f.jsx)("div",{className:"w-100 text-center mt-2",children:Object(f.jsx)(w.b,{to:"/login",children:"Login"})})]})}),Object(f.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(f.jsx)(w.b,{to:"/signup",children:"Sign Up"})]})]})}function J(){var e=Object(a.useRef)(),t=Object(a.useRef)(),n=Object(a.useRef)(),r=v(),c=r.currentUser,s=r.updatePassword,i=r.updateEmail,o=Object(a.useState)(""),l=Object(j.a)(o,2),h=l[0],O=l[1],x=Object(a.useState)(!1),m=Object(j.a)(x,2),y=m[0],k=m[1],S=Object(g.g)();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(u.a,{children:Object(f.jsxs)(u.a.Body,{children:[Object(f.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),h&&Object(f.jsxs)(d.a,{variant:"danger",children:[" ",h," "]}),Object(f.jsxs)(b.a,{onSubmit:function(a){if(a.preventDefault(),t.current.value!==n.current.value)return O("Passwords do not match");var r=[];k(!0),O(""),e.current.value!==c.email&&r.push(i(e.current.value)),t.current.value&&r.push(s(t.current.value)),Promise.all(r).then((function(){S.push("/")})).catch((function(){O("Failed to update account")})).finally((function(){k(!1)}))},children:[Object(f.jsxs)(b.a.Group,{id:"email",children:[Object(f.jsx)(b.a.Label,{children:"Email"}),Object(f.jsx)(b.a.Control,{type:"email",ref:e,required:!0,defaultValue:c.email})]}),Object(f.jsxs)(b.a.Group,{id:"password",children:[Object(f.jsx)(b.a.Label,{children:"Password"}),Object(f.jsx)(b.a.Control,{type:"password",ref:t,placeholder:"Leave blank to keep the same"})]}),Object(f.jsxs)(b.a.Group,{id:"password-confirm",children:[Object(f.jsx)(b.a.Label,{children:"Password Confirmation"}),Object(f.jsx)(b.a.Control,{type:"password",ref:n,placeholder:"Leave blank to keep the same"})]}),Object(f.jsx)(p.a,{disabled:y,className:"w-100",type:"submit",children:"Update"})]})]})}),Object(f.jsx)("div",{className:"w-100 text-center mt-2",children:Object(f.jsx)(w.b,{to:"/",children:"Cancel "})})]})}n(102);var W=function(){var e=Object(a.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],c=v(),s=c.currentUser,i=c.logout,b=Object(g.g)();function h(){return(h=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(""),e.prev=1,e.next=4,i();case 4:b.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(N,{}),Object(f.jsx)(u.a,{className:"profile-page",children:Object(f.jsxs)(u.a.Body,{style:{fontSize:"24px"},children:[Object(f.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),n&&Object(f.jsxs)(d.a,{variant:"danger",children:[" ",n," "]}),Object(f.jsx)("strong",{className:"text-center mb-4",children:" Email:"})," ",s&&s.email,Object(f.jsx)(w.b,{style:{background:"yellow",color:"blue"},to:"/update-profile",className:"btn btn-primary w-100 mt-3",children:"Update Profile"})]})}),Object(f.jsx)("div",{className:"w-100 text-center mt-2",children:Object(f.jsx)(p.a,{variant:"link",onClick:function(){return h.apply(this,arguments)},children:"Log Out"})})]})},H=(n(103),function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.get("/api/dispensary/favorite");case 2:t=e.sent,r(t.data[0].favorites);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),console.log(n),Object(f.jsxs)("div",{className:"container mb-5 mt-5",children:[Object(f.jsx)(N,{}),Object(f.jsx)(E,{children:Object(f.jsx)("h1",{className:"text-center",children:"Here's Your Favorite Dispensaries"})}),Object(f.jsx)(R.a,{children:Object(f.jsx)("div",{className:"favorite-list",children:n.sort((function(e,t){return e.name[0]<t.name[0]?-1:e.name[0]>t.name[0]?1:0})).map((function(e){return Object(f.jsx)("div",{children:Object(f.jsxs)("h1",{style:{color:"black",backgroundColor:"yellow"},children:[e.name,", ",e.display_address,",",e.display_phone,", ",e.is_open_,",",e.rating]})},e.id)}))})})]})});var K=function(){return Object(f.jsx)(w.a,{children:Object(f.jsx)(y,{children:Object(f.jsxs)(g.d,{children:[Object(f.jsx)(g.b,{exact:!0,path:"/",component:G}),Object(f.jsx)(A,{path:"/update-profile",component:J}),Object(f.jsx)(g.b,{path:"/signup",component:P}),Object(f.jsx)(g.b,{path:"/login",component:_}),Object(f.jsx)(g.b,{path:"/forgot-password",component:T}),Object(f.jsx)(g.b,{path:"/profile",component:W}),Object(f.jsx)(g.b,{path:"/favorites",component:H})]})})})};n(104);s.a.render(Object(f.jsxs)(r.a.StrictMode,{children:[Object(f.jsx)(K,{}),","]}),document.getElementById("root"))},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){}},[[105,1,2]]]);
//# sourceMappingURL=main.90314161.chunk.js.map